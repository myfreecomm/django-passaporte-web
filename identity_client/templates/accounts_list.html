{% extends "base.html" %}
{% block title %}Listagem de contas{% endblock %}

{% block navigation %}
    <li><a href="{% url index %}">Inicio</a></li>
    <li><a href="{% url registration_register %}">Criação de usuários</a></li>
    <li><a href="{% url auth_login %}">Login via API</a></li>
    <li><a href="{% url sso_consumer:iframe %}">Login via SSO</a></li>
    <li><a href="{% url user_profile %}">Perfil</a></li>
    <li class="active"><a href="{% url list_accounts %}">Contas</a></li>
    <li><a href="#">Notificações</a></li>
{% endblock navigation %}

{% block content-header %}
  <h1>Listagem de contas</h1>
{% endblock content-header %}

{% block content-inner %}

    <div class="accounts">
        {% if error %}
        <div class="alert-message error">
            <a close="close" href="#">x</a>
            <p>
                <strong>Erro!</strong>
            </p>
            {% if error.status %}<p>Status: {{ error.status }}</p>{% endif %}
            <p>Mensagem: {{ error.message }}</p>
        </div>
        {% endif %}

        <table>
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>UUID</th>
                    <th>Slug do Plano</th>
                    <th>Membros</th>
                    <th>Expiração</th>
                    <th>URL</th>
                </tr>
            </thead>
            <tbody>
                {% for account in accounts %}
                <tr>
                    <td>{{ account.name }}</td>
                    <td>{{ account.uuid }}</td>
                    <td>{{ account.plan_slug }}</td>
                    <td>{{ account.members }}</td>
                    <td>{{ account.expiration }}</td>
                    <td>{{ account.url }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>


        <table>
            <thead>
                <tr>
                    <th>Dados da conta</th>
                    <th>Dados do serviço</th>
                    <th>Slug do plano</th>
                    <th>Expiração</th>
                    <th>URL para adição de membros</th>
                </tr>
            </thead>
            <tbody>
                {% for account in accounts %}
                <tr>
                    <td>Nome: {{ account.account_data.name }} <p></p><p> UUID: {{ account.account_data.uuid }} </p> </td>
                    <td>Nome: {{ account.service_data.name }} <p> Slug: {{ account.service_data.slug }} </p> </td>
                    <td>{{ account.plan_slug }}</td>
                    <td>{{ account.expiration }}</td>
                    <td>{{ account.add_member_url }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

{% endblock content-inner %}

{% block content-aside %}
{% endblock content-aside %}
